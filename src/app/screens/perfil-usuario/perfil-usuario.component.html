<section class="home">
  <div class="wrapper">
    <mat-drawer-container>

      <!-- Sidebar -->
      <mat-drawer #drawer mode="over" position="start">
        <app-left-sidebar (cerrar)="drawer.toggle()"></app-left-sidebar>
      </mat-drawer>

      <!-- Header -->
      <app-header-app (drawer)="drawer.toggle()"></app-header-app>

      <!-- Contenido principal -->
      <div class="body-home">
        <div class="form-login">

          <!-- Imagen de perfil -->
          <div class="d-flex justify-content-center mb-3">
            <div class="text-center">
              <img [src]="previewUrl || '/assets/images/perfil-header.png'"
                   alt="Foto de perfil"
                   class="rounded-circle img-perfil-usuario"
                   width="100"
                   height="100" />
              <div class="txt-user mt-2">{{ usuario.nombre || 'Usuario' }}</div>

              <!-- Input para subir nueva imagen -->
              <div class="mt-2">
                <input type="file" (change)="cambiarFoto($event)" accept="image/*">
              </div>
            </div>
          </div>

          <!-- Título -->
          <h1 class="title-login">Editar Perfil</h1>

          <!-- Campo: Nombre -->
          <mat-form-field class="inputs-login" appearance="outline">
            <mat-label>Nombre completo</mat-label>
            <input [(ngModel)]="usuario.nombre" type="text" matInput placeholder="Tu nombre">
          </mat-form-field>
          <div *ngIf="errors.nombre" class="invalid-feedback">{{ errors.nombre }}</div>

          <!-- Campo: Correo -->
          <mat-form-field class="inputs-login" appearance="outline">
            <mat-label>Correo electrónico</mat-label>
            <input [(ngModel)]="usuario.email" type="email" matInput placeholder="Tu correo">
          </mat-form-field>
          <div *ngIf="errors.email" class="invalid-feedback">{{ errors.email }}</div>

          <!-- Campo: Teléfono -->
          <mat-form-field class="inputs-login" appearance="outline">
            <mat-label>Teléfono</mat-label>
            <input [(ngModel)]="usuario.telefono" type="tel" matInput placeholder="Tu teléfono">
          </mat-form-field>
          <div *ngIf="errors.telefono" class="invalid-feedback">{{ errors.telefono }}</div>
          <!-- Campo: Edad -->
          <mat-form-field class="inputs-login" appearance="outline">
            <mat-label>Edad</mat-label>
            <input [(ngModel)]="usuario.edad" type="number" matInput placeholder="Tu edad">
          </mat-form-field>
          <div *ngIf="errors.edad" class="invalid-feedback">{{ errors.edad }}</div>
          <!-- Campo: Dirección -->
          <mat-form-field class="inputs-login" appearance="outline">
            <mat-label>Dirección</mat-label>
            <input [(ngModel)]="usuario.direccion" type="text" matInput placeholder="Tu dirección">
          </mat-form-field>
          <div *ngIf="errors.direccion" class="invalid-feedback">{{ errors.direccion }}</div>



          <!-- Botón Guardar -->
          <button mat-flat-button color="primary" (click)="guardarUsuario()">Guardar</button>

        </div> <!-- .form-login -->
      </div> <!-- .body-home -->

      <!-- Footer -->
      <div class="footer mt-5">
        <app-footer-app></app-footer-app>
      </div>

    </mat-drawer-container>
  </div> <!-- .wrapper -->
</section>
